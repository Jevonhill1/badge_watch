<h1>Live Stream</h1>

<%= react_component 'Streaming' %>
<p><button id="btnStart">Are you ready to Live Stream?</button></br>
<button id="btnStop">Stop Recording</button></p>
<video controls width="100%"" height="auto"></video>
</br>
<p><button id="btn btn-success"><%= link_to "Home", home_index_path %></button>
<button><%= link_to "New Video", livestream_new_path %></button>
<button><%= link_to "Police Incidents", police_index_path %></button></p>

<form>
  <label for="img">Select image:</label>
  <input type="file" id="img" name="img" accept="image/*">
  <input type="submit">
</form>
<div>
    <video id="vid" autoplay></video>
        <script>
        navigator.mediaDevices.getUserMedia({
            video: true
        })
        .then(stream => {
            document.getElementById("vid").srcObject = stream;
        })
        </script>
        
        
</div>
<div>
  <script>
  var x = document.getElementById("demo");
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude +
  "<br>Longitude: " + position.coords.longitude;
}

function myMap() {
var mapProp= {
  center:new google.maps.LatLng(51.508742,-0.120850),
  zoom:5,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
}
  </script>
</div>